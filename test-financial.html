<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Financial Data</title>
</head>
<body>
    <h1>Financial Data Test</h1>
    <div id="financialData">
        <p>Loading...</p>
    </div>
    
    <script>
        async function testFinancialData() {
            try {
                const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vT0BPMTkSH8oDU7AYQLEcTxN-LHh86WLBMyfZH1eT4ABRCB8vwF2z7BBnzN0-SvaZZ0Apcwkkn08jyw/pub?output=csv');
                const csv = await response.text();
                console.log('CSV Data:', csv);
                
                const rows = csv.split('\n');
                console.log('Rows:', rows);
                
                if (rows.length >= 2) {
                    const headers = rows[0].split(',');
                    const data = rows[1].split(',');
                    
                    console.log('Headers:', headers);
                    console.log('Data:', data);
                    
                    const bankBalance = parseFloat(data[0].replace(/"/g, '').trim());
                    const availableLoanAmount = parseFloat(data[1].replace(/"/g, '').trim());
                    const lastUpdated = data[2].replace(/"/g, '').trim();
                    
                    document.getElementById('financialData').innerHTML = `
                        <p><strong>Bank Balance:</strong> ₹${bankBalance.toLocaleString('en-IN')}</p>
                        <p><strong>Available Loan Amount:</strong> ₹${availableLoanAmount.toLocaleString('en-IN')}</p>
                        <p><strong>Last Updated:</strong> ${lastUpdated}</p>
                    `;
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('financialData').innerHTML = `<p>Error: ${error.message}</p>`;
            }
        }
        
        testFinancialData();
    </script>
</body>
</html>

